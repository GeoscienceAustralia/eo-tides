# Migrating from `dea_tools`

The `eo-tides` package contains functions that were previously available in the [`Digital Earth Australia Notebooks and Tools` repository](https://github.com/GeoscienceAustralia/dea-notebooks/).
To migrate your code from DEA Tools to `eo-tides`, please be aware of the following breaking changes:

## Breaking changes

### "tide_m" renamed to "tide_height"

The output tide heights column generated by the `model_tides` function (when running in the default `output_format="long"` format), and the `xarray.DataArrays` generated by `tag_tides` and `pixel_tides` have been renamed from `tide_m` to `tide_height`.
This more clearly describes the data, particularly when used in combination with `output_units="cm"` or `output_units="mm"` which returns tide heights in non-metre units.

- **Action:** Update any references of `tide_m` to `tide_height`

### Tide model directory environment variable updated

The `DEA_TOOLS_TIDE_MODELS` environmental variable has been renamed to `EO_TIDES_TIDE_MODELS`.

- **Action:** Set the `EO_TIDES_TIDE_MODELS` environment variable instead of `DEA_TOOLS_TIDE_MODELS`

### Error raised if both `directory` parameter and environment variable are missing

Previously, tide modelling functions used a fall-back tide modelling directory of `/var/share/tide_models` if both the `directory` parameter and the tide model directory environment variable were absent. This fall-back has been removed, and functions will now raise an error if no tide model directory is specified.

- **Action:** Ensure that either the `directory` parameter or the `EO_TIDES_TIDE_MODELS` environment variable are specified.
